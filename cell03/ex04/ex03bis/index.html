<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>To Do</title>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>

<button id="new">New</button>
<div id="ft_list"></div>

<script>
function save(){
    let arr=[];
    $("#ft_list div").each(function(){
        arr.push($(this).text());
    });
    document.cookie="todos="+JSON.stringify(arr);
}

function load(){
    let c=document.cookie.split("todos=");
    if(c.length>1){
        let arr=JSON.parse(c[1]);
        for(let i=arr.length-1;i>=0;i--){
            add(arr[i]);
        }
    }
}

function add(text){
    let d=$("<div>").text(text);
    d.click(function(){
        if(confirm("Remove?")){
            $(this).remove();
            save();
        }
    });
    $("#ft_list").prepend(d);
}

$("#new").click(function(){
    let t=prompt("New TO DO:");
    if(t){
        add(t);
        save();
    }
});

load();
</script>

</body>
</html>
